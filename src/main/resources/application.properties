spring.config.import=optional:file:config.properties

server.port=${app.server.port:8848}
broadcast.port=${app.broadcast.port:25522}

# MySQL Configuration
spring.datasource.url = ${app.spring.datasource.url:jdbc:mysql://localhost:3306/db_foxnas?useSSL=false&serverTimezone=GMT%2B8}
spring.datasource.username=${app.spring.datasource.username:root}
spring.datasource.password=${app.spring.datasource.password}
spring.datasource.driver-class-name=${app.spring.datasource.driver-class-name:com.mysql.cj.jdbc.Driver}

# Redis Configuration
spring.data.redis.host=${app.spring.data.redis.host:localhost}
spring.data.redis.port=${app.spring.data.redis.port:6379}
spring.data.redis.password=${app.spring.data.redis.password}
spring.data.redis.database=${app.spring.data.redis.database:0}
spring.data.redis.timeout=${app.spring.data.redis.timeout:10000ms}

# MongoDB Configuration
spring.data.mongodb.host=${app.spring.data.mongodb.host:localhost}
spring.data.mongodb.port=${app.spring.data.mongodb.port:27017}
spring.data.mongodb.database=${app.spring.data.mongodb.database:foxnas_logs}
 spring.data.mongodb.username=${app.spring.data.mongodb.username}
 spring.data.mongodb.password=${app.spring.data.mongodb.password}
 spring.data.mongodb.authentication-database=${app.spring.data.mongodb.authentication-database:admin}

# RabbitMQ Configuration
spring.rabbitmq.host=${app.spring.rabbitmq.host:localhost}
spring.rabbitmq.port=${app.spring.rabbitmq.port:5672}
spring.rabbitmq.username=${app.spring.rabbitmq.username:guest}
spring.rabbitmq.password=${app.spring.rabbitmq.password:guest}
spring.rabbitmq.publisher-confirm-type=${app.spring.rabbitmq.publisher-confirm-type:correlated}
spring.rabbitmq.publisher-returns=${app.spring.rabbitmq.publisher-returns:true}
spring.rabbitmq.listener.simple.acknowledge-mode=${app.spring.rabbitmq.listener.simple.acknowledge-mode:manual}
spring.rabbitmq.listener.simple.prefetch=${app.spring.rabbitmq.listener.simple.prefetch:1}
spring.rabbitmq.listener.simple.concurrency=${app.spring.rabbitmq.listener.simple.concurrency:2}
spring.rabbitmq.listener.direct.default-requeue-rejected=${app.spring.rabbitmq.listener.direct.default-requeue-rejected:false}
spring.rabbitmq.listener.direct.retry.enabled=${app.spring.rabbitmq.listener.direct.retry.enabled:false}

# MyBatis-Plus Configuration
mybatis-plus.configuration.log-impl=${app.mybatis-plus.configuration.log-impl:org.apache.ibatis.logging.stdout.StdOutImpl}

logging.file.name=${app.logging.file.name:logs/foxnas_log.log}
logging.logback.rollingpolicy.max-file-size=${app.logging.logback.rollingpolicy.max-file-size:10MB}
logging.logback.rollingpolicy.max-history=${app.logging.logback.rollingpolicy.max-history:30}
# Logging Levels
logging.level.org.apache.ibatis=${app.logging.level.org.apache.ibatis:warn}
logging.level.org.springframework.jdbc=${app.logging.level.org.springframework.jdbc:warn}
logging.level.com.zaxxer.hikari=${app.logging.level.com.zaxxer.hikari:warn}

# Multipart File Upload Configuration
spring.servlet.multipart.max-file-size=${app.spring.servlet.multipart.max-file-size:10240MB}
spring.servlet.multipart.max-request-size=${app.spring.servlet.multipart.max-request-size:10240MB}

spring.jackson.time-zone=Asia/Shanghai

# JWT Configuration
jwt.secret = ${app.jwt.secret:fasjfjfhjdfshasfhudghre75fg8saweg58gs8f9gh}

jwt.expiration=${app.jwt.expiration:86400000}

# Mail Configuration
spring.mail.host=${app.spring.mail.host:smtp.qq.com}
spring.mail.port=${app.spring.mail.port:465}
spring.mail.username=${app.spring.mail.username:}
spring.mail.password=${app.spring.mail.password:}
spring.mail.default-encoding=${app.spring.mail.default-encoding:UTF-8}
spring.mail.properties.mail.smtp.auth=${app.spring.mail.properties.mail.smtp.auth:true}
spring.mail.properties.mail.smtp.starttls.enable=${app.spring.mail.properties.mail.smtp.starttls.enable:true}
spring.mail.properties.mail.smtp.starttls.required=${app.spring.mail.properties.mail.smtp.starttls.required:true}
spring.mail.properties.mail.smtp.socketFactory.class=${app.spring.mail.properties.mail.smtp.socketFactory.class:javax.net.ssl.SSLSocketFactory}
spring.mail.properties.mail.smtp.socketFactory.port=${app.spring.mail.properties.mail.smtp.socketFactory.port:465}
spring.mail.properties.mail.smtp.connectiontimeout=${app.spring.mail.properties.mail.smtp.connectiontimeout:5000}
spring.mail.properties.mail.smtp.timeout=${app.spring.mail.properties.mail.smtp.timeout:5000}
spring.mail.properties.mail.smtp.writetimeout=${app.spring.mail.properties.mail.smtp.writetimeout:5000}
spring.mail.properties.mail.smtp.socketFactory.fallback=${app.spring.mail.properties.mail.smtp.socketFactory.fallback:false}


# OAuth2 Configuration
spring.security.oauth2.client.registration.github.client-id=${spring.security.oauth2.client.registration.github.client-id:}
spring.security.oauth2.client.registration.github.client-secret=${spring.security.oauth2.client.registration.github.client-secret:}

spring.security.oauth2.client.registration.qq.client-id=${spring.security.oauth2.client.registration.qq.client-id:}
spring.security.oauth2.client.registration.qq.client-secret=${spring.security.oauth2.client.registration.qq.client-secret:}
spring.security.oauth2.client.registration.qq.provider=qq
spring.security.oauth2.client.registration.qq.client-name=QQ
spring.security.oauth2.client.registration.qq.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.qq.scope=get_user_info

# QQ OAuth2 Provider Configuration
spring.security.oauth2.client.provider.qq.authorization-uri=https://graph.qq.com/oauth2.0/authorize
spring.security.oauth2.client.provider.qq.token-uri=https://graph.qq.com/oauth2.0/token
spring.security.oauth2.client.provider.qq.user-info-uri=https://graph.qq.com/user/get_user_info
spring.security.oauth2.client.provider.qq.user-name-attribute=nickname

# Microsoft OAuth2 Configuration (\u4f7f\u7528\u76f8\u540c\u7684\u5360\u4f4d\u7b26\u98ce\u683c)
spring.security.oauth2.client.registration.microsoft.client-id=${microsoft.client.id:}
spring.security.oauth2.client.registration.microsoft.client-secret=${microsoft.client.secret:}
spring.security.oauth2.client.registration.microsoft.scope=openid,profile,email
spring.security.oauth2.client.registration.microsoft.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.microsoft.client-name=Microsoft

# Microsoft OAuth2 Provider Configuration
spring.security.oauth2.client.provider.microsoft.authorization-uri=https://login.microsoftonline.com/common/oauth2/v2.0/authorize
spring.security.oauth2.client.provider.microsoft.token-uri=https://login.microsoftonline.com/common/oauth2/v2.0/token
# Microsoft OIDC \u4f7f\u7528 ID Token \u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u4e0d\u9700\u8981 user-info-uri
# spring.security.oauth2.client.provider.microsoft.user-info-uri=https://graph.microsoft.com/v1.0/me
# user-name-attribute \u8bbe\u7f6e\u4e3a sub (OIDC \u6807\u51c6\u7528\u6237\u6807\u8bc6)
spring.security.oauth2.client.provider.microsoft.user-name-attribute=sub
spring.security.oauth2.client.provider.microsoft.jwk-set-uri=https://login.microsoftonline.com/common/discovery/v2.0/keys


spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8